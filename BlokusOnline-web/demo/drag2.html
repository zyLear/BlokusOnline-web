<!DOCTYPE html>
<html lang="zh">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Qing's Web</title>


    <style type="text/css">

        .moveBar {
            /*position: absolute;*/
            width: 250px;
            height: 300px;
            background: #666;
            border: solid 1px #000;
            /*margin: 0px;*/
            left: 200px;
            top: 200px;
            /*cursor: move;*/
        }

        #banner {
            background: #52CCCC;
            cursor: move;
        }

        .content-c {
            /*position: absolute;*/
            width: 250px;
            height: 700px;
            background: #666;
            border: solid 1px #000;
            /*margin: 0px;*/
            left: 600px;
            top: 600px;
        }

        .content-b {
            position: relative;
            width: 100px;
            height: 100px;
            /*background: steelblue;*/
            border: solid 1px #000;
            /*margin: 0px;*/
            /*left: 600px;*/
            top: -101px;
            left: -1px;
            background-color: transparent;
        }

        .content-e {
            /*position: relative;*/
            /*float: left;*/
            width: 100px;
            height: 100px;
            background: greenyellow;
            border: solid 1px #000;
            /*margin: 0px;*/
            /*left: 600px;*/
            top: 20px;
        }

        .content-d {
            width: 100px;
            height: 100px;
            background-color: aquamarine;
            border: solid 1px #000;
            /*margin: 10px;*/
        }

    </style>

</head>

<body>

<div class="moveBar">
    <div id="banner">按住此处移动当前div</div>
    <div class="content">这里是其它内容</div>
</div>
<div class="content-c" ondrop="drop()">
    <div class="content-e" style="   -webkit-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);">

        <div class="content-d">rrrrr</div>
        <div class="content-b">
            <div style="width: 10px; height: 10px; background-color: black"></divs>
            </div>

        </div>

        <!--<div class="content-e"></div>-->
    </div>


    <!--<div class="content-d" draggable="true"></div>-->


    <script src="../vendor/jquery190.min.js"></script>
    <script>

        var isMove = false;
        var abs_x;
        var abs_y;
        $(function () {
            $('.moveBar').mousedown(
                function (event) {
                    // alert($('div.moveBar').offset().left + ',' + $('div.moveBar').offset().top);
                    isMove = true;
                    // abs_x = event.pageX - $('div.moveBar').offset().left;
                    // abs_y = event.pageY - $('div.moveBar').offset().top;

                    var obj = $('.moveBar').css('position', 'absolute');

                    abs_x = $('div.moveBar').width() / 2;
                    abs_y = $('div.moveBar').height() / 2;


                }
            );


            $(document).mousemove(function (event) {
                if (isMove) {
                    var obj = $('.moveBar');
                    obj.css({
                        'left': event.pageX - abs_x,
                        'top': event.pageY - abs_y
                    });
                }
            });


            $(document).mouseup(function (event) {

                isMove = false;
                $('.moveBar').css('position', '');

//            $('.content-b').text(event.pageX + ',' + event.pageY);
                var obj = $('.content-c');

                var offset = obj.offset();
                if (event.pageX < offset.left + obj.width() && event.pageX > offset.left
                    && event.pageY < offset.top + obj.height() && event.pageY > offset.top) {
                    alert('sssdfdfsf');
                }

//            $('.content-c').append($('.moveBar'));
//        return true;

//        alert('document');
            });


//        $('.content-c').bind('mouseup', function () {
//            $('.content-b').text('sss');
//
////        alert('in in ');
//        });


        });


        //    function drop(ev) {
        //        alert('aaa');
        //        ev.preventDefault();
        ////        var data = ev.dataTransfer.getData("Text");
        ////        ev.target.appendChild(document.getElementById(data));
        //    }


    </script>
</body>

</html>